/*! 
 Build based on gin-vue-admin 
 Time : 1713878256000 */
import{a as e,o as a,c as l,b as t,d as o,w as s,f as i,j as r,$ as p,E as m,k as u}from"./087AC4D233B64EB0index.js";import{E as d}from"./087AC4D233B64EB0dialog.js";import"./087AC4D233B64EB0overlay.js";import{a as n,E as c}from"./087AC4D233B64EB0form-item.js";/* empty css                     */import{E as B,a as f}from"./087AC4D233B64EB0table-column.js";import"./087AC4D233B64EB0checkbox.js";/* empty css                       *//* empty css                      */import"./087AC4D233B64EB0scrollbar.js";import"./087AC4D233B64EB0tag.js";/* empty css                      */import{i as g,d as C,j as b}from"./087AC4D233B64EB0autoCode.js";import{_ as E}from"./087AC4D233B64EB0warningBar.js";import"./087AC4D233B64EB0isUndefined.js";import"./087AC4D233B64EB0castArray.js";import"./087AC4D233B64EB0_baseClone.js";import"./087AC4D233B64EB0_Uint8Array.js";import"./087AC4D233B64EB0_initCloneObject.js";import"./087AC4D233B64EB0index22.js";import"./087AC4D233B64EB0debounce.js";import"./087AC4D233B64EB0hasIn.js";import"./087AC4D233B64EB0isEqual.js";/* empty css                     */const j={class:"gva-table-box"},A={class:"gva-btn-list gap-3 flex items-center"},v={class:"dialog-footer"},D=Object.assign({name:"AutoPkg"},{__name:"autoPkg",setup(D){const k=e({packageName:"",label:"",desc:""}),y=e({packageName:[{required:!0,message:"请输入包名",trigger:"blur"},{validator:(e,a,l)=>{/^\d+$/.test(a[0])?l(new Error("不能够以数字开头")):l()},trigger:"blur"}]}),_=e(!1),w=()=>{_.value=!1,k.value={packageName:"",label:"",desc:""}},V=e(null),h=async()=>{V.value.validate((async e=>{if(e){0===(await g(k.value)).code&&r({type:"success",message:"添加成功",showClose:!0}),N(),w()}}))},x=e([]),N=async()=>{const e=await C();0===e.code&&(x.value=e.data.pkgs)};return N(),(e,g)=>{const C=m,D=B,U=f,P=u,q=n,I=c,O=d;return a(),l("div",null,[t("div",j,[t("div",A,[o(C,{type:"primary",icon:"plus",onClick:g[0]||(g[0]=e=>{_.value=!0})},{default:s((()=>[i("新增")])),_:1})]),o(U,{data:x.value},{default:s((()=>[o(D,{align:"left",label:"id",width:"60",prop:"ID"}),o(D,{align:"left",label:"包名",width:"150",prop:"packageName"}),o(D,{align:"left",label:"展示名",width:"150",prop:"label"}),o(D,{align:"left",label:"描述","min-width":"150",prop:"desc"}),o(D,{align:"left",label:"操作",width:"200"},{default:s((e=>[o(C,{icon:"delete",type:"primary",link:"",onClick:a=>(async e=>{p.confirm("此操作仅删除数据库中的pkg存储，后端相应目录结构请自行删除与数据库保持一致！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{0===(await b(e)).code&&(r({type:"success",message:"删除成功!"}),N())}))})(e.row)},{default:s((()=>[i("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])]),o(O,{modelValue:_.value,"onUpdate:modelValue":g[4]||(g[4]=e=>_.value=e),"before-close":w,title:"创建Package"},{footer:s((()=>[t("div",v,[o(C,{onClick:w},{default:s((()=>[i("取 消")])),_:1}),o(C,{type:"primary",onClick:h},{default:s((()=>[i("确 定")])),_:1})])])),default:s((()=>[o(E,{title:"新增Pkg用于自动化代码使用"}),o(I,{ref_key:"pkgForm",ref:V,model:k.value,rules:y.value,"label-width":"80px"},{default:s((()=>[o(q,{label:"包名",prop:"packageName"},{default:s((()=>[o(P,{modelValue:k.value.packageName,"onUpdate:modelValue":g[1]||(g[1]=e=>k.value.packageName=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),o(q,{label:"展示名",prop:"label"},{default:s((()=>[o(P,{modelValue:k.value.label,"onUpdate:modelValue":g[2]||(g[2]=e=>k.value.label=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),o(q,{label:"描述",prop:"desc"},{default:s((()=>[o(P,{modelValue:k.value.desc,"onUpdate:modelValue":g[3]||(g[3]=e=>k.value.desc=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}}});export{D as default};
