/*! 
 Build based on gin-vue-admin 
 Time : 1713878256000 */
import{s as e,_ as l,u as s,r as a,a as t,o,c as d,b as r,n as m,d as i,w as p,e as n,E as u,f as b,g as c,p as h,h as f,i as y,j as g,k as B}from"./087AC4D233B64EB0index.js";import{E as w,a as j}from"./087AC4D233B64EB0form-item.js";/* empty css                     */import"./087AC4D233B64EB0tag.js";import{E as q,a as v}from"./087AC4D233B64EB0select.js";import"./087AC4D233B64EB0scrollbar.js";/* empty css                      *//* empty css                      */import{_ as C}from"./087AC4D233B64EB0login_right_banner.js";import"./087AC4D233B64EB0castArray.js";import"./087AC4D233B64EB0_baseClone.js";import"./087AC4D233B64EB0_Uint8Array.js";import"./087AC4D233B64EB0_initCloneObject.js";import"./087AC4D233B64EB0isEqual.js";import"./087AC4D233B64EB0hasIn.js";import"./087AC4D233B64EB0index22.js";import"./087AC4D233B64EB0isUndefined.js";import"./087AC4D233B64EB0index23.js";import"./087AC4D233B64EB0strings.js";import"./087AC4D233B64EB0debounce.js";const E=e=>(h("data-v-609c79c9"),e=e(),f(),e),A={class:"rounded-lg flex items-center justify-evenly w-full h-full relative bg-white md:w-screen md:h-screen md:bg-[#194bfb] overflow-hidden"},_={class:"rounded-md w-full h-full flex items-center justify-center overflow-hidden"},k=E((()=>r("div",{class:"oblique h-[130%] w-3/5 bg-white transform -rotate-12 absolute -ml-80"},null,-1))),x={class:"text-lg"},D=E((()=>r("div",{class:"font-sans text-4xl font-bold text-center mb-4"},"Anx",-1))),V=E((()=>r("p",{class:"text-gray-600 mb-2"},"初始化须知",-1))),N=E((()=>r("p",{class:"text-gray-600 mb-2"},[b("如果您使用mysql数据库，请确认数据库引擎为"),r("span",{class:"text-red-600 font-bold text-3xl ml-2"},"innoDB")],-1))),T={class:"flex items-center justify-between mt-8"},P={style:{"text-align":"right"}},U=E((()=>r("div",{class:"hidden md:block w-1/2 h-full float-right bg-[#194bfb]"},[r("img",{class:"h-full",src:C,alt:"banner"})],-1))),O=l(Object.assign({name:"Init"},{__name:"index",setup(l){const h=s(),f=a({showReadme:!1,showForm:!1}),C=()=>{f.showReadme=!1,setTimeout((()=>{f.showForm=!0}),20)},E=t(!1),O=a({dbType:"mysql",host:"127.0.0.1",port:"3306",userName:"root",password:"",dbName:"gva",dbPath:""}),F=e=>{switch(e){case"mysql":default:Object.assign(O,{dbType:"mysql",host:"127.0.0.1",port:"3306",userName:"root",password:"",dbName:"gva",dbPath:""});break;case"pgsql":Object.assign(O,{dbType:"pgsql",host:"127.0.0.1",port:"5432",userName:"postgres",password:"",dbName:"gva",dbPath:""});break;case"oracle":Object.assign(O,{dbType:"oracle",host:"127.0.0.1",port:"1521",userName:"oracle",password:"",dbName:"gva",dbPath:""});break;case"mssql":Object.assign(O,{dbType:"mssql",host:"127.0.0.1",port:"1433",userName:"mssql",password:"",dbName:"gva",dbPath:""});break;case"sqlite":Object.assign(O,{dbType:"sqlite",host:"",port:"",userName:"",password:"",dbName:"gva",dbPath:""})}},R=async()=>{const l=y.service({lock:!0,text:"正在初始化数据库，请稍候",spinner:"loading",background:"rgba(0, 0, 0, 0.7)"});try{const a=await(s=O,e({url:"/init/initdb",method:"post",data:s}));0===a.code&&(E.value=!0,g({type:"success",message:a.msg}),h.push({name:"Login"})),l.close()}catch(a){l.close()}var s};return(e,l)=>{const s=u,a=q,t=v,h=j,y=B,g=w;return o(),d("div",A,[r("div",_,[k,f.showForm?n("",!0):(o(),d("div",{key:0,class:m([f.showReadme?"slide-out-right":"slide-in-fwd-top"])},[r("div",x,[D,V,N,r("p",T,[i(s,{type:"primary",size:"large",onClick:C},{default:p((()=>[b(" 我已确认 ")])),_:1})])])],2)),f.showForm?(o(),d("div",{key:1,class:m([[f.showForm?"slide-in-left":"slide-out-right"],"w-96"])},[i(g,{ref:"formRef",model:O,"label-width":"100px",size:"large"},{default:p((()=>[i(h,{label:"数据库类型"},{default:p((()=>[i(t,{modelValue:O.dbType,"onUpdate:modelValue":l[0]||(l[0]=e=>O.dbType=e),placeholder:"请选择",class:"w-full",onChange:F},{default:p((()=>[i(a,{key:"mysql",label:"mysql",value:"mysql"}),i(a,{key:"pgsql",label:"pgsql",value:"pgsql"}),i(a,{key:"oracle",label:"oracle",value:"oracle"}),i(a,{key:"mssql",label:"mssql",value:"mssql"}),i(a,{key:"sqlite",label:"sqlite",value:"sqlite"})])),_:1},8,["modelValue"])])),_:1}),"sqlite"!==O.dbType?(o(),c(h,{key:0,label:"host"},{default:p((()=>[i(y,{modelValue:O.host,"onUpdate:modelValue":l[1]||(l[1]=e=>O.host=e),placeholder:"请输入数据库链接"},null,8,["modelValue"])])),_:1})):n("",!0),"sqlite"!==O.dbType?(o(),c(h,{key:1,label:"port"},{default:p((()=>[i(y,{modelValue:O.port,"onUpdate:modelValue":l[2]||(l[2]=e=>O.port=e),placeholder:"请输入数据库端口"},null,8,["modelValue"])])),_:1})):n("",!0),"sqlite"!==O.dbType?(o(),c(h,{key:2,label:"userName"},{default:p((()=>[i(y,{modelValue:O.userName,"onUpdate:modelValue":l[3]||(l[3]=e=>O.userName=e),placeholder:"请输入数据库用户名"},null,8,["modelValue"])])),_:1})):n("",!0),"sqlite"!==O.dbType?(o(),c(h,{key:3,label:"password"},{default:p((()=>[i(y,{modelValue:O.password,"onUpdate:modelValue":l[4]||(l[4]=e=>O.password=e),placeholder:"请输入数据库密码（没有则为空）"},null,8,["modelValue"])])),_:1})):n("",!0),i(h,{label:"dbName"},{default:p((()=>[i(y,{modelValue:O.dbName,"onUpdate:modelValue":l[5]||(l[5]=e=>O.dbName=e),placeholder:"请输入数据库名称"},null,8,["modelValue"])])),_:1}),"sqlite"===O.dbType?(o(),c(h,{key:4,label:"dbPath"},{default:p((()=>[i(y,{modelValue:O.dbPath,"onUpdate:modelValue":l[6]||(l[6]=e=>O.dbPath=e),placeholder:"请输入sqlite数据库文件存放路径"},null,8,["modelValue"])])),_:1})):n("",!0),i(h,null,{default:p((()=>[r("div",P,[i(s,{type:"primary",onClick:R},{default:p((()=>[b("立即初始化")])),_:1})])])),_:1})])),_:1},8,["model"])],2)):n("",!0)]),U])}}}),[["__scopeId","data-v-609c79c9"]]);export{O as default};
