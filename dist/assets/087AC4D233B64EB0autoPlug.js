/*! 
 Build based on gin-vue-admin 
 Time : 1713878256000 */
import{_ as e,r as l,o as a,c as o,b as u,d as s,w as n,g as t,K as d,L as p,A as r,cD as i,cP as m,e as c,f as b,j as V,$ as y,k as f,E as B}from"./087AC4D233B64EB0index.js";import{a as k,E as C}from"./087AC4D233B64EB0form-item.js";/* empty css                      *//* empty css                     */import"./087AC4D233B64EB0tag.js";import{E as h,a as g}from"./087AC4D233B64EB0select.js";import"./087AC4D233B64EB0scrollbar.js";/* empty css                      */import{E as v}from"./087AC4D233B64EB0checkbox.js";import{b as E}from"./087AC4D233B64EB0stringFun.js";import{k as A}from"./087AC4D233B64EB0autoCode.js";import"./087AC4D233B64EB0castArray.js";import"./087AC4D233B64EB0_baseClone.js";import"./087AC4D233B64EB0_Uint8Array.js";import"./087AC4D233B64EB0_initCloneObject.js";import"./087AC4D233B64EB0isEqual.js";import"./087AC4D233B64EB0hasIn.js";import"./087AC4D233B64EB0index22.js";import"./087AC4D233B64EB0isUndefined.js";import"./087AC4D233B64EB0index23.js";import"./087AC4D233B64EB0strings.js";import"./087AC4D233B64EB0debounce.js";const U={class:"gva-table-box"},j=e({__name:"autoPlug",setup(e){const j=l({plugName:"",routerGroup:"",hasGlobal:!0,hasRequest:!0,hasResponse:!0,global:[{key:"",type:"",desc:""}],request:[{key:"",type:"",desc:""}],response:[{key:"",type:"",desc:""}]}),D=()=>{j.plugName=E(j.plugName)},_=async()=>{if(!j.plugName||!j.routerGroup)return void V.error("插件名称和插件路由组为必填项");if(j.hasGlobal){if(j.global.some((e=>{if(!e.key||!e.type)return!0})))return void V.error("全局属性的key和type为必填项")}if(j.hasRequest){if(j.request.some((e=>{if(!e.key||!e.type)return!0})))return void V.error("请求属性的key和type为必填项")}if(j.hasResponse){if(j.response.some((e=>{if(!e.key||!e.type)return!0})))return void V.error("响应属性的key和type为必填项")}0===(await A(j)).code&&y("创建成功，插件已自动写入后端plugin目录下，请按照自己的逻辑进行创造")},R=e=>{e.push({key:"",value:""})},q=(e,l)=>{1!==e.length?e.splice(l,1):V.warning("至少有一个全局属性")};return(e,l)=>{const V=f,y=k,E=v,A=h,G=g,w=B,x=C;return a(),o("div",null,[u("div",U,[s(x,{"label-width":"140px",class:"w-[680px]"},{default:n((()=>[s(y,{label:"插件名"},{default:n((()=>[s(V,{modelValue:j.plugName,"onUpdate:modelValue":l[0]||(l[0]=e=>j.plugName=e),placeholder:"必填（英文大写字母开头）",onBlur:D},null,8,["modelValue"])])),_:1}),s(y,{label:"路由组"},{default:n((()=>[s(V,{modelValue:j.routerGroup,"onUpdate:modelValue":l[1]||(l[1]=e=>j.routerGroup=e),placeholder:"将会作为插件路由组使用"},null,8,["modelValue"])])),_:1}),s(y,{label:"使用全局属性"},{default:n((()=>[s(E,{modelValue:j.hasGlobal,"onUpdate:modelValue":l[2]||(l[2]=e=>j.hasGlobal=e)},null,8,["modelValue"])])),_:1}),j.hasGlobal?(a(),t(y,{key:0,label:"全局属性"},{default:n((()=>[(a(!0),o(d,null,p(j.global,((e,t)=>(a(),o("div",{key:t,class:"plug-row"},[u("span",null,[s(V,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"key 必填"},null,8,["modelValue","onUpdate:modelValue"])]),u("span",null,[s(G,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,placeholder:"type 必填"},{default:n((()=>[s(A,{label:"string",value:"string"}),s(A,{label:"int",value:"int"}),s(A,{label:"float32",value:"float32"}),s(A,{label:"float64",value:"float64"}),s(A,{label:"bool",value:"bool"})])),_:2},1032,["modelValue","onUpdate:modelValue"])]),u("span",null,[s(V,{modelValue:e.desc,"onUpdate:modelValue":l=>e.desc=l,placeholder:"备注 必填"},null,8,["modelValue","onUpdate:modelValue"])]),u("span",null,[s(w,{icon:r(i),circle:"",onClick:l[3]||(l[3]=e=>R(j.global))},null,8,["icon"])]),u("span",null,[s(w,{icon:r(m),circle:"",onClick:e=>q(j.global,t)},null,8,["icon","onClick"])])])))),128))])),_:1})):c("",!0),s(y,{label:"使用Request"},{default:n((()=>[s(E,{modelValue:j.hasRequest,"onUpdate:modelValue":l[4]||(l[4]=e=>j.hasRequest=e)},null,8,["modelValue"])])),_:1}),j.hasRequest?(a(),t(y,{key:1,label:"Request"},{default:n((()=>[(a(!0),o(d,null,p(j.request,((e,t)=>(a(),o("div",{key:t,class:"plug-row"},[u("span",null,[s(V,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"key 必填"},null,8,["modelValue","onUpdate:modelValue"])]),u("span",null,[s(G,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,placeholder:"type 必填"},{default:n((()=>[s(A,{label:"string",value:"string"}),s(A,{label:"int",value:"int"}),s(A,{label:"float32",value:"float32"}),s(A,{label:"float64",value:"float64"}),s(A,{label:"bool",value:"bool"})])),_:2},1032,["modelValue","onUpdate:modelValue"])]),u("span",null,[s(V,{modelValue:e.desc,"onUpdate:modelValue":l=>e.desc=l,placeholder:"备注 必填"},null,8,["modelValue","onUpdate:modelValue"])]),u("span",null,[s(w,{icon:r(i),circle:"",onClick:l[5]||(l[5]=e=>R(j.request))},null,8,["icon"])]),u("span",null,[s(w,{icon:r(m),circle:"",onClick:e=>q(j.request,t)},null,8,["icon","onClick"])])])))),128))])),_:1})):c("",!0),s(y,{label:"使用Response"},{default:n((()=>[s(E,{modelValue:j.hasResponse,"onUpdate:modelValue":l[6]||(l[6]=e=>j.hasResponse=e)},null,8,["modelValue"])])),_:1}),j.hasResponse?(a(),t(y,{key:2,label:"Response"},{default:n((()=>[(a(!0),o(d,null,p(j.response,((e,t)=>(a(),o("div",{key:t,class:"plug-row"},[u("span",null,[s(V,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"key 必填"},null,8,["modelValue","onUpdate:modelValue"])]),u("span",null,[s(G,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,placeholder:"type 必填"},{default:n((()=>[s(A,{label:"string",value:"string"}),s(A,{label:"int",value:"int"}),s(A,{label:"float32",value:"float32"}),s(A,{label:"float64",value:"float64"}),s(A,{label:"bool",value:"bool"})])),_:2},1032,["modelValue","onUpdate:modelValue"])]),u("span",null,[s(V,{modelValue:e.desc,"onUpdate:modelValue":l=>e.desc=l,placeholder:"备注 必填"},null,8,["modelValue","onUpdate:modelValue"])]),u("span",null,[s(w,{icon:r(i),circle:"",onClick:l[7]||(l[7]=e=>R(j.response))},null,8,["icon"])]),u("span",null,[s(w,{icon:r(m),circle:"",onClick:e=>q(j.response,t)},null,8,["icon","onClick"])])])))),128))])),_:1})):c("",!0),s(y,null,{default:n((()=>[s(w,{type:"primary",onClick:_},{default:n((()=>[b("创建")])),_:1})])),_:1})])),_:1})])])}}},[["__scopeId","data-v-f0ba1ce2"]]);export{j as default};
