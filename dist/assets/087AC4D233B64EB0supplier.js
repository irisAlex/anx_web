/*! 
 Build based on gin-vue-admin 
 Time : 1713878256000 */
import{s as e,_ as a,a as l,o as t,c as o,b as i,d as r,w as s,f as n,$ as u,j as p,k as d,E as m}from"./087AC4D233B64EB0index.js";import{E as c}from"./087AC4D233B64EB0pagination.js";/* empty css                     */import"./087AC4D233B64EB0tag.js";import"./087AC4D233B64EB0select.js";import"./087AC4D233B64EB0scrollbar.js";/* empty css                      */import{E as B,a as g}from"./087AC4D233B64EB0table-column.js";import"./087AC4D233B64EB0checkbox.js";/* empty css                       */import{a as v,E as C}from"./087AC4D233B64EB0form-item.js";/* empty css                      */import{t as b}from"./087AC4D233B64EB0stringFun.js";import"./087AC4D233B64EB0isEqual.js";import"./087AC4D233B64EB0_Uint8Array.js";import"./087AC4D233B64EB0hasIn.js";import"./087AC4D233B64EB0index22.js";import"./087AC4D233B64EB0isUndefined.js";import"./087AC4D233B64EB0index23.js";import"./087AC4D233B64EB0strings.js";import"./087AC4D233B64EB0debounce.js";import"./087AC4D233B64EB0_initCloneObject.js";import"./087AC4D233B64EB0castArray.js";import"./087AC4D233B64EB0_baseClone.js";const f={class:"gva-search-box"},h={class:"gva-table-box"},A={class:"gva-btn-list"},E={class:"gva-pagination"},j=a(Object.assign({name:"Api"},{__name:"supplier",setup(a){const j=l([]),D=l({name:"",addr:"",email:"",phone:"",product:"",contacts:""}),y=l("");l({country:[{required:!0,message:"请输入国家",trigger:"blur"}],genre:[{required:!0,message:"请输入类别",trigger:"blur"}],name:[{required:!0,message:"请输入名称",trigger:"blur"}]});const _=l(1),w=l(0),k=l(10),x=l([]),V=l({}),S=()=>{V.value={}},z=()=>{_.value=1,k.value=10,F()},I=e=>{k.value=e,F()},U=e=>{_.value=e,F()},q=({prop:e,order:a})=>{e&&("ID"===e&&(e="id"),V.value.orderKey=b(e),V.value.desc="descending"===a),F()},F=async()=>{const a=await(l={page:_.value,pageSize:k.value,...V.value},e({url:"/supplier/getAllSupplierList",method:"post",data:l}));var l;0===a.code&&(x.value=a.data.list,w.value=a.data.total,_.value=a.data.page,k.value=a.data.pageSize)};F();const O=e=>{j.value=e};l(null);const T=l("添加供应商"),K=l(!1),L=e=>{switch(e){case"addApi":T.value="添加供应商";break;case"edit":T.value="编辑供应商"}y.value=e,K.value=!0},$=async a=>{const l=await(t={id:a.ID},e({url:"/supplier/getSupplierById",method:"post",data:t}));var t;D.value=l.data.supplier,L("edit")},G=async a=>{u.confirm("此操作将永久删除数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{var l;0===(await(l=a,e({url:"/supplier/deleteSupplier",method:"post",data:l}))).code&&(p({type:"success",message:"删除成功!"}),1===x.value.length&&_.value>1&&_.value--,F())}))};return(e,a)=>{const l=d,u=v,p=m,b=C,j=B,D=g,y=c;return t(),o("div",null,[i("div",f,[r(b,{ref:"searchForm",inline:!0,model:V.value},{default:s((()=>[r(u,{label:"产品名称"},{default:s((()=>[r(l,{modelValue:V.value.product,"onUpdate:modelValue":a[0]||(a[0]=e=>V.value.product=e),placeholder:"产品名称"},null,8,["modelValue"])])),_:1}),r(u,{label:"供应商地址"},{default:s((()=>[r(l,{modelValue:V.value.addr,"onUpdate:modelValue":a[1]||(a[1]=e=>V.value.addr=e),placeholder:"供应商地址"},null,8,["modelValue"])])),_:1}),r(u,{label:"供应商名称"},{default:s((()=>[r(l,{modelValue:V.value.name,"onUpdate:modelValue":a[2]||(a[2]=e=>V.value.name=e),placeholder:"供应商类型"},null,8,["modelValue"])])),_:1}),r(u,null,{default:s((()=>[r(p,{type:"primary",icon:"search",onClick:z},{default:s((()=>[n("查询")])),_:1}),r(p,{icon:"refresh",onClick:S},{default:s((()=>[n("重置")])),_:1})])),_:1})])),_:1},8,["model"])]),i("div",h,[i("div",A,[r(p,{type:"primary",icon:"plus",onClick:a[3]||(a[3]=e=>L("addApi"))},{default:s((()=>[n("新增")])),_:1})]),r(D,{data:x.value,onSortChange:q,onSelectionChange:O},{default:s((()=>[r(j,{align:"left",label:"ID","min-width":"150",prop:"ID",sortable:"custom"}),r(j,{align:"left",label:"供应商名称","min-width":"150",prop:"name",sortable:"custom"}),r(j,{align:"left",label:"供应商地址","min-width":"150",prop:"addr",sortable:"custom"}),r(j,{align:"left",label:"供货产品名称","min-width":"150",prop:"product",sortable:"custom"}),r(j,{align:"left",label:"联系人","min-width":"150",prop:"contacts",sortable:"custom"}),r(j,{align:"left",label:"联系电话","min-width":"150",prop:"phone",sortable:"custom"}),r(j,{align:"left",label:"Email","min-width":"150",prop:"email",sortable:"custom"}),r(j,{align:"left",fixed:"right",label:"操作",width:"300"},{default:s((e=>[r(p,{icon:"edit",type:"primary",link:"",onClick:a=>$(e.row)},{default:s((()=>[n("修改")])),_:2},1032,["onClick"]),r(p,{icon:"delete",type:"primary",link:"",onClick:a=>G(e.row)},{default:s((()=>[n("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),i("div",E,[r(y,{"current-page":_.value,"page-size":k.value,"page-sizes":[10,30,50,100],total:w.value,layout:"total, sizes, prev, pager, next, jumper",onCurrentChange:U,onSizeChange:I},null,8,["current-page","page-size","total"])])])])}}}),[["__scopeId","data-v-c10e1fca"]]);export{j as default};
